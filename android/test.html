<!DOCTYPE html>
<html>
<head>
    <title>Test Rushless Safer</title>
</head>
<body>
    <h1>Test App Launch</h1>
    <p>Click the link below to launch the Rushless Safer application.</p>
    <a href="#" id="launch-link">Launch App</a>

    <script>
        // This is a simplified version of the logic in your React component.
        const launchRushlessSafer = (courseId) => {
            const targetUrl = `${window.location.origin}/courses/${courseId}/do`;
            const allCookies = document.cookie;

            const encodedUrl = encodeURIComponent(targetUrl);
            const encodedCookies = encodeURIComponent(allCookies);

            const isAndroid = /Android/i.test(navigator.userAgent);
            const protocolUrl = isAndroid
                ? `rushless-safer://exam?url=${encodedUrl}`
                : `rushless-safer:?url=${encodedUrl}&cookies=${encodedCookies}`;

            alert(`Launching with URL: ${protocolUrl}`);
            window.location.href = protocolUrl;
        };

        document.getElementById('launch-link').addEventListener('click', (event) => {
            event.preventDefault();
            // Replace '123' with a valid course ID
            launchRushlessSafer('123');
        });
    </script>
</body>
</html>